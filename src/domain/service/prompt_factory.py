from typing import Optional


class PromptFactory:

    @staticmethod
    def build_spam_detection_prompt(user_instructions: str) -> str:
        response_format = """
КРИТИЧЕСКИ ВАЖНО:
- Ответь ТОЛЬКО валидным JSON объектом
- НЕ пиши объяснений, комментариев или рассуждений
- НЕ добавляй никакого текста до или после JSON
- Формат ответа: {"is_spam": boolean, "confidence": 0.0-1.0}

ПРИМЕР ПРАВИЛЬНОГО ОТВЕТА:
{"is_spam": false, "confidence": 0.95}"""

        return f"{user_instructions}\n\n{response_format}"

    @staticmethod
    def get_default_user_instructions() -> str:
        return """Ты эксперт по определению спама в сообщениях чатов. Анализируй быстро и точно.

ЗАДАЧА: Определи, является ли сообщение спамом.

СПАМ это:
- Реклама товаров/услуг без разрешения
- Призывы писать в личные сообщения для "заработка"
- Финансовые схемы и "быстрые деньги"
- Массовые рассылки и копипаста
- Навязчивые ссылки на внешние ресурсы
- Предложения инвестиций, криптовалют, форекса

НЕ СПАМ это:
- Обычное общение и вопросы
- Обмен опытом по теме чата
- Мемы, шутки, реакции
- Конструктивная критика
- Информативные ссылки по теме

Будь консервативным - при сомнениях классифицируй как НЕ спам."""